<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload File</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.0-beta1/css/bootstrap.min.css" integrity="sha512-o/MhoRPVLExxZjCFVBsm17Pkztkzmh7Dp8k7/3JrtNCHh0AQ489kwpfA3dPSHzKDe8YCuEhxXq3Y71eb/o6amg==" crossorigin="anonymous" referrerpolicy="no-referrer" />

</head>
<body>

    <div class="container">
        <div class="row mx-auto my-5">
            <div class="col-md-5">
                <div class="card">
                    <div class="card-body">
                        <h3>Upload File</h3>
                        <hr>
                        <form action="http://localhost:5050/upload" method="POST" enctype="multipart/form-data">
                            <label for="image-upload"><img style="height: 100px; width: 100px;" src="https://media.istockphoto.com/vectors/no-image-vector-symbol-missing-available-icon-no-gallery-for-this-vector-id1128826884?k=6&m=1128826884&s=170667a&w=0&h=F6kUwTcsLXUojmGFxN2wApEKgjx63zcIshCSOmnfEFs=" alt=""></label>
                            <input type="file" name="photo" id="image-upload" style="display: none;" multiple />
                            <div id="preview"></div>
                            <br>
                            <button type="submit" class="btn btn-primary">Upload</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.0-beta1/js/bootstrap.min.js" integrity="sha512-Hqe3s+yLpqaBbXM6VA0cnj/T56ii5YjNrMT9v+us11Q81L0wzUG0jEMNECtugqNu2Uq5MSttCg0p4KK0kCPVaQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <script>

        let upload_image = document.getElementById('image-upload');
        let preview = document.getElementById('preview');

        upload_image.onchange = (e) => {
            let { type, size } = e.target.files[0];

            if( type == 'image/png' || type == 'image/jpg' || type == 'image/jpeg' || type == 'image/gif' || type == 'image/svg' || type == 'image/webp' ){
                let images = e.target.files;
                let img_upload = '';
                for(img of images){
                    img_upload += `<img style="width: 100px; height: 100px; object-fit:cover;" src="${URL.createObjectURL(img)}">`;
                }
                preview.innerHTML = img_upload;

            }else {
                alert('Invalid File Format!');
            }
        }

    </script>
</body>
</html>